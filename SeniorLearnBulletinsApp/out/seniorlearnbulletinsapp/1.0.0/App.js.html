<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: App.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: App.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useState} from 'react';
import { Alert, Text } from 'react-native';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { createDrawerNavigator, DrawerContentScrollView, DrawerItem } from '@react-navigation/drawer';
import { SafeAreaProvider } from 'react-native-safe-area-context';

//Import screens
import LoginScreen from './src/screens/LoginScreen';
import HomeScreen from './src/screens/HomeScreen';
import BulletinsListScreen from './src/screens/BulletinsListScreen';
import BulletinDetailsScreen from './src/screens/BulletinDetailsScreen';
import PostBulletinScreen from './src/screens/PostBulletinScreen';
import SettingsScreen from './src/screens/SettingsScreen';
//import HowToScreen from './src/screens/HowToScreen';
//import AboutScreen from './src/screens/AboutScreen';

/**
 * Stack navigator
 * @description Placeholder for the stack navigator
 * @type {*}
 */
const Stack = createNativeStackNavigator();

/**
 * Drawer navigator
 * @description Placeholder for the drawer navigator
 * @type {*}
 */
const Drawer = createDrawerNavigator();

/**
 * @description AuthStack component handles authentication screens
 * @param {{ onLogin: any; onGuestLogin: any; }} param0 
 * @param {*} param0.onLogin 
 * @param {*} param0.onGuestLogin 
 * @returns {*} 
 */
function AuthStack({ onLogin, onGuestLogin }) {
    return (
        &lt;Stack.Navigator 
            screenOptions={{ 
                headerShown: false // Hide header for auth screens
            }}
        >
            &lt;Stack.Screen name="Login">
                {props => &lt;LoginScreen {...props} onLogin={onLogin} onGuestLogin={onGuestLogin} />}
            &lt;/Stack.Screen>
            {/* &lt;Stack.Screen
                name="GuestBulletinsList"
                component={BulletinsListScreen}
                headerBackTitle="Back to Login"
            /> */}
        &lt;/Stack.Navigator>
    );
}

/**
 * @description CustomDrawerContent component renders the custom drawer content
 * @param {{ [x: string]: any; user: any; signOut: any; }} param0 
 * @param {*} param0.user 
 * @param {*} param0.signOut 
 * @param {{ [x: string]: any; }} param0....props 
 * @returns {*} 
 */
function CustomDrawerContent({user, signOut, ...props}) {
    const handleLogOut = () => {
        Alert.alert(
            'Logging out',
            'Are you sure you want to log out?',
            [
                {
                    text: 'No', style: 'cancel'
                },
                {
                    text: 'Yes, exit',
                    onPress: () => {
                        signOut();
                    },
                    style: 'destructive'
                }
            ]
        );
    }

    return (
        &lt;DrawerContentScrollView 
            {...props} 
            contentContainerStyle={{ flex: 1, justifyContent: 'space-between' }}
        >
            &lt;Text
                style={{margin: 16, fontWeight: 'bold', fontSize: 18}}
            >
                {user.username || user.email || user.name || 'Guest'}
            &lt;/Text>

            {/* Drawer items */}
            &lt;DrawerItem 
                label="How to use this app"
                onPress={() => props.navigation.navigate('HowTo')}
            />
            &lt;DrawerItem 
                label="About SeniorLearn"
                onPress={() => props.navigation.navigate('About')}
            />
            &lt;DrawerItem 
                label="Settings"
                onPress={() => props.navigation.navigate('Settings')}
            />

            {/* Log out */}
            &lt;DrawerItem 
                label="Log out"
                onPress={handleLogOut}
                style={{ marginBottom: 16 }}
            />
        &lt;/DrawerContentScrollView>
    )
}

/**
 * @description AppDrawer component renders the main app drawer with navigation
 * @param {{ user: any; signOut: any; settings: any; setSettings: any; }} param0 
 * @param {*} param0.user 
 * @param {*} param0.signOut 
 * @param {*} param0.settings 
 * @param {*} param0.setSettings 
 * @returns {*} 
 */
function AppDrawer({ user, signOut, settings, setSettings }) {
    return (
        &lt;Drawer.Navigator
            drawerContent={props => &lt;CustomDrawerContent {...props} user={user} signOut={signOut} />}
            screenOptions={{ headerTitle: 'SeniorLearn' }}
        >
            {/* Main screens */}
            &lt;Drawer.Screen 
                name="HomeStack" 
                options={{ title: 'Home' }}
            >
                {() => (
                    &lt;Stack.Navigator
                        screenOptions={{ 
                            headerTitle: 'SeniorLearn',
                            headerBackTitle: 'Back',
                        }}
                    >
                        &lt;Stack.Screen name="Home">
                            {props => (&lt;HomeScreen {...props} settings={settings} setSettings={setSettings} user={user}/>
                            )}
                        &lt;/Stack.Screen>
                        &lt;Stack.Screen name="BulletinsList">
                            {props => (&lt;BulletinsListScreen {...props} settings={settings} user={user}/>
                            )}
                        &lt;/Stack.Screen>
                        &lt;Stack.Screen name="BulletinDetails">
                            {props => (&lt;BulletinDetailsScreen {...props} settings={settings} user={user}/>
                            )}
                        &lt;/Stack.Screen>
                        &lt;Stack.Screen name="PostBulletin"> 
                            {props => (&lt;PostBulletinScreen {...props} settings={settings} user={user}/>
                            )}
                        &lt;/Stack.Screen>
                    &lt;/Stack.Navigator>
                )}
            &lt;/Drawer.Screen>

            {/* other routes */}
            &lt;Drawer.Screen name="Settings" options={{ title: 'Settings' }}>
                {props => (
                    &lt;SettingsScreen
                        {...props} 
                        settings={settings} 
                        setSettings={setSettings} 
                    />
                )}
            &lt;/Drawer.Screen>
            {/* Uncomment if screens are implemented */}
            {/* &lt;Drawer.Screen 
                name="HowTo" 
                component={HowToScreen} 
                options={{ title: 'How to use this app' }}
            />
            &lt;Drawer.Screen
                name="About"
                component={AboutScreen}
                options={{ title: 'About SeniorLearn' }}
            /> */}  
        &lt;/Drawer.Navigator>
    )
}

/**
 * @description Main App component initialises the app
 * @export
 * @returns {*} 
 */
export default function App() {
    const [user, setUser] = useState(null);

    //keep settings state in App:
    const [settings, setSettings] = useState({
        fontSize: 16,
        isSoundEnabled: true
    });

    const signIn = userInfo => setUser(userInfo);
    const signInAsGuest = () => setUser({ email: 'guest', username: 'Guest', role: 'guest' });
    const signOut = () => setUser(null);

    return (
        &lt;SafeAreaProvider>
            &lt;NavigationContainer>
                {user ? (
                    &lt;AppDrawer 
                        user={user} signOut={signOut} 
                        settings={settings} setSettings={setSettings}
                    />
                ) : (
                    &lt;AuthStack onLogin={signIn} onGuestLogin={signInAsGuest}/>
                )}
            &lt;/NavigationContainer>
        &lt;/SafeAreaProvider>
    );
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AppDrawer">AppDrawer</a></li><li><a href="global.html#AuthStack">AuthStack</a></li><li><a href="global.html#CustomDrawerContent">CustomDrawerContent</a></li><li><a href="global.html#Drawer">Drawer</a></li><li><a href="global.html#Stack">Stack</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Jun 22 2025 16:51:00 GMT+1000 (Australian Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
